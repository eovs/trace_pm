#include <stdio.h>
#include <malloc.h>
#include <time.h>
#include "lib.h"


#define GMAX 100
#define HDrow 12
#define HDcol 24
int HD[HDrow][HDcol] = 
{
	 0,  -1,  -1,  -1,  0,   0, -1,  -1,  0,  -1,  -1,   0,  1,  0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
	22,   0,  -1,  -1, 17,  -1,  0,   0, 12,  -1,  -1,  -1, -1,  0,  0, -1, -1, -1, -1, -1, -1, -1, -1, -1,
	 6,  -1,   0,  -1, 10,  -1, -1,  -1, 24,  -1,   0,  -1, -1, -1,  0,  0, -1, -1, -1, -1, -1, -1, -1, -1,
	 2,  -1,  -1,   0, 20,  -1, -1,  -1, 25,   0,  -1,  -1, -1, -1, -1,  0,  0, -1, -1, -1, -1, -1, -1, -1,
	23,  -1,  -1,  -1,  3,  -1, -1,  -1,  0,  -1,   9,  11, -1, -1, -1, -1,  0,  0, -1, -1, -1, -1, -1, -1,
	24,  -1,  23,   1, 17,  -1,  3,  -1, 10,  -1,  -1,  -1, -1, -1, -1, -1, -1,  0,  0, -1, -1, -1, -1, -1,
	25,  -1,  -1,  -1,  8,  -1, -1,  -1,  7,  18,  -1,  -1,  0, -1, -1, -1, -1, -1,  0,  0, -1, -1, -1, -1,
	13,  24,  -1,  -1,  0,  -1,  8,  -1,  6,  -1,  -1,  -1, -1, -1, -1, -1, -1, -1, -1,  0,  0, -1, -1, -1,
	 7,  20,  -1,  16, 22,  10, -1,  -1, 23,  -1,  -1,  -1, -1, -1, -1, -1, -1, -1, -1, -1,  0,  0, -1, -1,
	11,  -1,  -1,  -1, 19,  -1, -1,  -1, 13,  -1,   3,  17, -1, -1, -1, -1, -1, -1, -1, -1, -1,  0,  0, -1,
	25,  -1,   8,  -1, 23,  18, -1,  14,  9,  -1,  -1,  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,  0,  0,
	 3,  -1,  -1,  -1, 16,  -1, -1,   2, 25,   5,  -1,  -1,  1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,  0
};


int main( void )
{
	int i, j;
	int M = 27; 
	int gmax = 12; 
	ARRAY matr;
	clock_t t0, t1;
	int SN[GMAX];
	int SA[GMAX];


	matr.ndim = 2;

	put_nrow( &matr, HDrow );
	put_ncol( &matr, HDcol );
	put_addr( &matr, Alloc2d_int( HDrow, HDcol ) );

	for( i = 0; i < HDrow; i++ )
		for( j = 0; j < HDcol; j++ )
			matr.addr[i][j] = HD[i][j];

	t0 = clock();
	trace_bound_pol_mon_pm( matr, M, gmax, SN, SA );
	t1 = clock();

	printf("time: %d msec\n", (t1 - t0) * 1000 / CLOCKS_PER_SEC );
	for( i = 0; i < gmax; i++ )
		printf("%6.4f  %2d\n", (float)SN[i] / 1000000, SA[i] );

	free( matr.addr );
	return 1;
}